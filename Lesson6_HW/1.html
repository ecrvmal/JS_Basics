<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Homework</title>
    <style>
      .product {
        width: 200px;
        padding: 10px;
        float: left;
        margin-right: 30px;
        box-shadow: 0 0 4px black;
      }
    </style>
  </head>
  <body>
    <!--
Обязательное задание.

Выполнить все задачи в теге script. Комментарии, в которых написаны задачи, не
стирать, код с решением задачи пишем под комментарием.
-->
    <div class="product">
      <div class="productName">Товар 1</div>
      <img src="https://loremflickr.com/200/300/goods?lock=2" alt="" />
      <button>В корзину</button>
    </div>
    <div class="product">
      <div class="productName">Товар 2</div>
      <img src="https://loremflickr.com/200/300/goods?lock=12" alt="" />
      <button>В корзину</button>
    </div>
    <div class="product">
      <div class="productName">Товар 3</div>
      <img src="https://loremflickr.com/200/300/goods?lock=33" alt="" />
      <button>В корзину</button>
    </div>

    <script>
      "use strict";

      /*
      1. Установите всем элементам с классом "productName" размер шрифта 24px.
       */
      const myItems_1 = document.querySelectorAll(".productName");
      console.log(myItems_1);
      for (const el of myItems_1) {
        el.style.fontSize = "24px";
      }

      /*
      2. Установите всем элементам с классом "product" внешний отступ справа 50px.
       */
      const myItems_2 = document.querySelectorAll(".product");
      console.log(myItems_1);
      for (const el of myItems_1) {
        el.style.margin = "50px";
      }

      /*
      3. При клике на кнопку "В корзину" название кнопки должно поменяться на
      "Добавлено" и кнопка должна стать неактивной.
       */

      const myItems_3 = document.querySelectorAll("button");
      console.log(123);
      for (const el of myItems_3) {
        // console.log(el);
        el.addEventListener("click", (event) => buttonBlock(el));
      }

      function buttonBlock(el) {
        el.textContent = "Добавлено";
        // Вопрос, можно ли здесь исрользовать preventDefault ?
        // event.preventDefault();
        el.disabled = true;
      }

      /*
      4. Создайте полную (глубокую) копию элемента с классом product, измените в
      этой копии путь до картинки на:
      https://loremflickr.com/200/300/goods?lock=37
      Поставьте название товара в данной копии "Товар 4" и замените последний
      отображенный товар на странице на созданную копию. У данной копии также
      должен правильно работать код из 3-го задания.
       */
      console.log("4 -----------------------");
      const myItems_4 = document.querySelectorAll(".product");
      // console.log(myItems_4);
      console.log(myItems_4.item(0));

      const newDiv = myItems_4.item(0).cloneNode(true);

      newDiv.querySelector("img").src =
        "https://loremflickr.com/200/300/goods?lock=37";
      newDiv.querySelector(".productName").textContent = "Товар 4";
      newDiv.querySelector(".productName").fontSize = "24px";
      console.log(newDiv);

      // // console.log(newDiv);
      // // console.dir(newDiv);
      // console.log(myItems_4[myItems_4.length - 1]);
      myItems_4.item(myItems_4.length - 1).remove();
      document.body.appendChild(newDiv);
      // console.log(newDiv.querySelector("button"));
      const newDivButton = newDiv.querySelector("button");
      newDivButton.addEventListener("click", (event) =>
        buttonBlock(newDivButton)
      );

      /*
      5. По истечении 2 секунд с момента открытия страницы первый товар должен быть
      удален из html.
       */

      const myItems_5 = document.querySelectorAll(".product");
      setTimeout(() => {
        myItems_5.item(0).remove();
      }, 2000);
    </script>
  </body>
</html>
