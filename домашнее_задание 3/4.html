<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Homework</title>
  </head>
  <body>
    <!--
Обязательное задание.

1. Необходимо вывести в консоль массив продуктов в котором есть хоть одна
фотография используя метод filter. Исходные данные - массив products.
2. Необходимо отсортировать массив products используя метод sort по цене,
начиная с самой маленькой, заканчивая самой большой ценой, после чего вывести
отсортированный массив в консоль.
-->
    <script>
      "use strict";
      /*
      Скрипт выводит в консоль массив продуктов в котором есть хоть одна фотография используя метод filter.
      скрипт сортирует массив products используя метод sort по цене.
      */

      const products = [
        {
          id: 3,
          price: 127,
          photos: ["1.jpg", "2.jpg"],
        },
        {
          id: 5,
          price: 499,
          photos: [],
        },
        {
          id: 10,
          price: 26,
          photos: ["3.jpg"],
        },
        {
          id: 8,
          price: 78,
        },
      ];

      console.log("\n Goods with Photo : ");
      const prodsWithPhoto = filterProductsWithPhoto(products);
      printGoods(prodsWithPhoto);

      console.log("\n Goods sorted by price : ");
      sortGoods(products);
      printGoodsWithPrice(products);

      /**
       * Function filters objects in array by condition
       * that photo exists in the object
       * @date 2022-11-29
       * @param {array} goods
       * @returns {new array} filtered goods
       */
      function filterProductsWithPhoto(goods) {
        let goodsWithPhoto = goods.filter(
          (product) =>
            product.hasOwnProperty("photos") && product.photos.length > 0
        );
        return goodsWithPhoto;
      }

      /**
       * Function prints id values of objects in array
       * @date 2022-11-29
       * @param {array} goods
       * @returns - the same list of sorted objects
       */
      function printGoods(goods) {
        goods.forEach((el) => console.log(`id : ${el.id}  `));
      }

      /**
       * Function prints id values and price values of objects in array
       * @date 2022-11-29
       * @param {array} goods
       * @returns - don't returns anything
       */
      function printGoodsWithPrice(goods) {
        goods.forEach((el) =>
          console.log(`id : ${el.id} , price : ${el.price}  `)
        );
      }

      /**
       * Function sorts objects in incoming array by price value
       * @date 2022-11-29
       * @param {array} goods
       * @returns - don't returns anything
       */
      function sortGoods(goods) {
        goods.sort(function (item1, item2) {
          if (item1.price < item2.price) return -1;
          if (item1.price > item2.price) return 1;
          return 0;
        });
      }
    </script>
  </body>
</html>
